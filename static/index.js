function analyzeInput() {
    let input = document.getElementById("userInput").value.toLowerCase();
    let result = document.getElementById("result");
    
    const greenFlags = ["kind", "respect", "support", "à¸™à¹ˆà¸²à¸£à¸±à¸", "à¸›à¸¥à¸­à¸šà¹ƒà¸ˆ", 
        "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¹ƒà¸ˆà¸”à¸µà¹à¸¥à¸°à¸­à¹ˆà¸­à¸™à¹‚à¸¢à¸™", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸„à¸§à¸²à¸¡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸‹à¸·à¹ˆà¸­à¸ªà¸±à¸•à¸¢à¹Œ", 
        "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¹€à¸­à¸²à¹ƒà¸ˆà¹ƒà¸ªà¹ˆà¸„à¸™à¸£à¸­à¸šà¸‚à¹‰à¸²à¸‡", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸„à¸§à¸²à¸¡à¸¡à¸±à¹ˆà¸™à¹ƒà¸ˆà¹ƒà¸™à¸•à¸±à¸§à¹€à¸­à¸‡", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¸—à¸µà¹ˆà¸”à¸µ",
        "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™à¸„à¸§à¸²à¸¡à¹€à¸—à¹ˆà¸²à¹€à¸—à¸µà¸¢à¸¡", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸„à¸§à¸²à¸¡à¹€à¸›à¹‡à¸™à¸œà¸¹à¹‰à¸™à¸³à¸—à¸µà¹ˆà¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š", 
        "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¹ƒà¸ªà¹ˆà¹ƒà¸ˆà¸ªà¸¸à¸‚à¸ à¸²à¸žà¹à¸¥à¸°à¸à¸²à¸£à¸žà¸±à¸’à¸™à¸²à¸•à¸™à¹€à¸­à¸‡","Kind", "Respectful",
        "Supportive", "Responsible", "Honest", "Empathetic", 
        "Communicative", "Confident", "Understanding", "Mature","à¹€à¸¡à¸•à¸•à¸²",
         "à¹€à¸„à¸²à¸£à¸ž", "à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™", "à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š", "à¸‹à¸·à¹ˆà¸­à¸ªà¸±à¸•à¸¢à¹Œ", "à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆ", "à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¸”à¸µ", "à¸¡à¸±à¹ˆà¸™à¹ƒà¸ˆ",
         "à¹€à¸­à¸·à¹‰à¸­à¹€à¸Ÿà¸·à¹‰à¸­", "à¸­à¸”à¸—à¸™", "à¹€à¸›à¹‡à¸™à¸¡à¸´à¸•à¸£", "à¸­à¸”à¸à¸¥à¸±à¹‰à¸™", "à¸­à¹ˆà¸­à¸™à¹‚à¸¢à¸™", "à¸£à¸­à¸šà¸„à¸­à¸š", "à¹ƒà¸ˆà¸à¸§à¹‰à¸²à¸‡", 
         "à¸™à¸­à¸šà¸™à¹‰à¸­à¸¡", "à¸¡à¸µà¹€à¸«à¸•à¸¸à¸œà¸¥", "à¸¡à¸µà¸™à¹‰à¸³à¹ƒà¸ˆ", "à¹€à¸­à¸²à¹ƒà¸ˆà¹ƒà¸ªà¹ˆ", "à¸žà¸´à¸ˆà¸²à¸£à¸“à¸²", "à¸ªà¸¸à¸ à¸²à¸ž", 
         "à¹€à¸«à¹‡à¸™à¸­à¸à¹€à¸«à¹‡à¸™à¹ƒà¸ˆ", "à¸¡à¸µà¸„à¸§à¸²à¸¡à¸„à¸´à¸”à¸ªà¸£à¹‰à¸²à¸‡à¸ªà¸£à¸£à¸„à¹Œ", "à¸•à¸±à¹‰à¸‡à¹ƒà¸ˆ", "à¸£à¸±à¸à¹€à¸žà¸·à¹ˆà¸­à¸™","à¹„à¸¡à¹ˆà¸ªà¸¹à¸šà¸šà¸¸à¸«à¸£à¸µà¹ˆ", "à¸•à¸­à¸šà¹à¸Šà¸—à¹„à¸§", "à¹„à¸¡à¹ˆà¸”à¸­à¸‡à¹à¸Šà¸—", 
         "à¹„à¸¡à¹ˆà¹ƒà¸«à¹‰à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡", "à¹„à¸¡à¹ˆà¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡", "à¹„à¸¡à¹ˆà¹€à¸¥à¹ˆà¸™à¸¡à¸·à¸­à¸–à¸·à¸­", "à¹„à¸¡à¹ˆà¹€à¸¥à¹ˆà¸™à¹€à¸Ÿà¸ª", "à¹„à¸¡à¹ˆà¹€à¸¥à¹ˆà¸™à¹„à¸¥à¸™à¹Œ", 
         "à¹„à¸¡à¹ˆà¹€à¸¥à¹ˆà¸™à¸­à¸´à¸™à¸ªà¸•à¸²", "à¹„à¸¡à¹ˆà¹€à¸¥à¹ˆà¸™à¸—à¸§à¸´à¸•", "à¹„à¸¡à¹ˆà¹€à¸¥à¹ˆà¸™à¸—à¸§à¸´à¸•à¹€à¸•à¸­à¸£à¹Œ","à¹„à¸›à¹„à¸«à¸™à¸à¹‡à¸šà¸­à¸"];
    const redFlags = ["lie", "cheat", "ignore", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¹„à¸¡à¹ˆà¸‹à¸·à¹ˆà¸­à¸ªà¸±à¸•à¸¢à¹Œ", 
        "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¹„à¸¡à¹ˆà¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸™à¸´à¸ªà¸±à¸¢à¸«à¸¸à¸™à¸«à¸±à¸™à¸žà¸¥à¸±à¸™à¹à¸¥à¹ˆà¸™", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¹„à¸¡à¹ˆà¹ƒà¸ªà¹ˆà¹ƒà¸ˆà¸«à¸£à¸·à¸­à¹€à¸­à¸²à¹ƒà¸ˆà¹ƒà¸ªà¹ˆà¸„à¸™à¸­à¸·à¹ˆà¸™", 
        "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸žà¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¹€à¸­à¸²à¹à¸•à¹ˆà¹ƒà¸ˆ", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸‚à¸²à¸”à¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¸—à¸µà¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸—à¸±à¸¨à¸™à¸„à¸•à¸´à¸«à¸¢à¸´à¹ˆà¸‡", 
        "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¹„à¸¡à¹ˆà¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™à¸„à¸§à¸²à¸¡à¹€à¸—à¹ˆà¸²à¹€à¸—à¸µà¸¢à¸¡", "à¸œà¸¹à¹‰à¸Šà¸²à¸¢à¸¡à¸µà¸™à¸´à¸ªà¸±à¸¢à¸„à¸§à¸šà¸„à¸¸à¸¡à¸«à¸£à¸·à¸­à¸£à¸±à¸‡à¹à¸","à¹„à¸¡à¹ˆà¹€à¸¡à¸•à¸•à¸²", "à¹„à¸¡à¹ˆà¹€à¸„à¸²à¸£à¸ž", "à¹„à¸¡à¹ˆà¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™", "à¹„à¸¡à¹ˆà¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š",
         "à¹„à¸¡à¹ˆà¸‹à¸·à¹ˆà¸­à¸ªà¸±à¸•à¸¢à¹Œ", "à¹„à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¹ƒà¸ˆ", "à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¹à¸¢à¹ˆ", "à¹„à¸¡à¹ˆà¸¡à¸±à¹ˆà¸™à¹ƒà¸ˆ", "à¹€à¸«à¹‡à¸™à¹à¸à¹ˆà¸•à¸±à¸§", "à¸‚à¸µà¹‰à¹‚à¸¡à¹‚à¸«", 
         "à¸«à¸¢à¸´à¹ˆà¸‡", "à¹€à¸­à¸²à¹à¸•à¹ˆà¹ƒà¸ˆ", "à¸‚à¸²à¸”à¸™à¹‰à¸³à¹ƒà¸ˆ", "à¹„à¸¡à¹ˆà¸­à¹ˆà¸­à¸™à¹‚à¸¢à¸™", "à¹„à¸¡à¹ˆà¸£à¸­à¸šà¸„à¸­à¸š", "à¸«à¸¢à¸²à¸šà¸„à¸²à¸¢", "à¸—à¸°à¹€à¸¥à¸²à¸°à¸šà¹ˆà¸­à¸¢",
          "à¹„à¸¡à¹ˆà¸­à¸”à¸—à¸™", "à¸«à¸¥à¸µà¸à¹€à¸¥à¸µà¹ˆà¸¢à¸‡", "à¹„à¸£à¹‰à¹€à¸«à¸•à¸¸à¸œà¸¥", "à¹ƒà¸ˆà¸£à¹‰à¸­à¸™", "à¹„à¸¡à¹ˆà¸ªà¸¸à¸ à¸²à¸ž", "à¹„à¸¡à¹ˆà¹€à¸«à¹‡à¸™à¸­à¸à¹€à¸«à¹‡à¸™à¹ƒà¸ˆ", 
          "à¸„à¸´à¸”à¹€à¸­à¸‡à¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡", "à¹„à¸¡à¹ˆà¹ƒà¸ªà¹ˆà¹ƒà¸ˆ", "à¸•à¸­à¸šà¹à¸Šà¸—à¸Šà¹‰à¸²","à¸”à¸­à¸‡à¹à¸Šà¸—", "à¹ƒà¸«à¹‰à¸„à¸§à¸²à¸¡à¸«à¸§à¸±à¸‡", "à¹„à¸¡à¹ˆà¸•à¸­à¸šà¹à¸Šà¸—",
          "à¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡", "à¹€à¸¥à¹ˆà¸™à¸¡à¸·à¸­à¸–à¸·à¸­", "à¹€à¸¥à¹ˆà¸™à¹€à¸Ÿà¸ª", "à¹€à¸¥à¹ˆà¸™à¹„à¸¥à¸™à¹Œ", "à¹€à¸¥à¹ˆà¸™à¸­à¸´à¸™à¸ªà¸•à¸²", "à¹€à¸¥à¹ˆà¸™à¸—à¸§à¸´à¸•", "à¹€à¸¥à¹ˆà¸™à¸—à¸§à¸´à¸•à¹€à¸•à¸­à¸£à¹Œ" ,'à¸Šà¹‰à¸²'
        ,"à¸™à¸­à¸à¹ƒà¸ˆ", "à¹€à¸ˆà¹‰à¸²à¸Šà¸¹à¹‰", "à¸—à¸³à¸£à¹‰à¸²à¸¢à¹€à¸£à¸²"];
    
    let isRedFlag = redFlags.some(word => input.includes(word));
    let isGreenFlag = greenFlags.some(word => input.includes(word) && !input.includes("à¹„à¸¡à¹ˆ" + word));
    
    if (isGreenFlag) {
        result.innerHTML = "ðŸ’š Green Flag! Heâ€™s a keeper!";
        result.style.color = "green";
    } else if (isRedFlag || input.includes("à¹„à¸¡à¹ˆ")) {
        result.innerHTML = "ðŸš© Red Flag! Watch out!";
        result.style.color = "red";
    } else {
        result.innerHTML = "ðŸ¤” Hmm... Maybe a yellow flag?";
        result.style.color = "orange";
    }
    
    // à¸žà¸¢à¸²à¸¢à¸²à¸¡à¹€à¸¥à¹ˆà¸™à¹€à¸žà¸¥à¸‡à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸„à¸¥à¸´à¸ Analyze
    const bgMusic = document.getElementById("bgMusic");
    if (bgMusic) {
        bgMusic.play().catch(err => {
            console.error("Autoplay blocked or error playing audio:", err);
        });
    }
}

// à¹€à¸¡à¸·à¹ˆà¸­à¹‚à¸«à¸¥à¸” DOM à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§ à¸ˆà¸°à¸¥à¸­à¸‡à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸‚à¸­à¸‡ audio
window.addEventListener("DOMContentLoaded", () => {
    console.log("DOM fully loaded and parsed.");
    const bgMusic = document.getElementById("bgMusic");
    if (bgMusic) {
        bgMusic.addEventListener("error", (e) => {
            console.error("Audio error:", e);
        });
        bgMusic.addEventListener("canplaythrough", () => {
            console.log("Audio is ready to play!");
        });
    }
});
